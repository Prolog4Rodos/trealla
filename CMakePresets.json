{
	"version": 7,
	"cmakeMinimumRequired": {
		"major": 3,
		"minor": 22,
		"patch": 0
	},
	"configurePresets": [
		{
			"name": "base",
			"hidden": true,
			"generator": "Ninja",
			"binaryDir": "${sourceDir}/build/${presetName}",
			"cacheVariables": {
				"CMAKE_EXPORT_COMPILE_COMMANDS": "ON"
			}
		},
		{
			"name": "base-debug",
			"hidden": true,
			"inherits": "base",
			"cacheVariables": { "CMAKE_BUILD_TYPE": "Debug" }
		},
		{
			"name": "base-release",
			"hidden": true,
			"inherits": "base",
			"cacheVariables": { "CMAKE_BUILD_TYPE": "Release" }
		},
		{
			"name": "base-minsizerel",
			"hidden": true,
			"inherits": "base",
			"cacheVariables": { "CMAKE_BUILD_TYPE": "MinSizeRel" }
		},

		{
			"name": "linux-debug",
			"displayName": "Linux Debug",
			"inherits": "base-debug"
		},
		{
			"name": "linux-release",
			"displayName": "Linux Release",
			"inherits": "base-release"
		},
		{
			"name": "linux-minsizerel",
			"displayName": "Linux MinSizeRel",
			"inherits": "base-minsizerel"
		},

		{
			"name": "toolchain-cross-generic",
			"hidden": true,
			"inherits": "base",
			"cacheVariables": {
				"CMAKE_TOOLCHAIN_FILE": "${sourceDir}/cmake/toolchains/generic-cross.cmake"
			}
		},

		{
			"name": "toolchain-arm-none-eabi",
			"hidden": true,
			"inherits": "base",
			"cacheVariables": {
				"CMAKE_TOOLCHAIN_FILE": "${sourceDir}/cmake/toolchains/arm-none-eabi.cmake",
				"TPL_BAREMETAL_CPU": "cortex-m4",
				"TPL_BAREMETAL_FPU": "fpv4-sp-d16",
				"TPL_BAREMETAL_FLOAT_ABI": "hard",
				"TPL_LINKER_SCRIPT": "${sourceDir}/ldscripts/placeholder.ld"
			}
		},

		{
			"name": "cross-generic",
			"displayName": "Crosscompile Generic Placeholder (Release)",
			"inherits": ["toolchain-cross-generic", "base-release"]
		},

		{
			"name": "arm-none-eabi",
			"displayName": "arm-none-eabi Placeholder (Release)",
			"inherits": ["toolchain-arm-none-eabi", "base-release"]
		}
	],
	"buildPresets": [
		{ "name": "linux-debug", "configurePreset": "linux-debug" },
		{ "name": "linux-release", "configurePreset": "linux-release" },
		{ "name": "linux-minsizerel", "configurePreset": "linux-minsizerel" },
		{ "name": "cross-generic", "configurePreset": "cross-generic" },
		{ "name": "arm-none-eabi", "configurePreset": "arm-none-eabi" }
	],
	"testPresets": [
		{
			"name": "linux-debug",
			"configurePreset": "linux-debug",
			"output": {
				"outputOnFailure": true
			}
		},
		{
			"name": "linux-release",
			"configurePreset": "linux-release",
			"output": {
				"outputOnFailure": true
			}
		}
	]
}
